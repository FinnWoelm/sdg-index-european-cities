(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,n){e.exports=n(236)},236:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(11),i=n.n(a),c=n(19),s=n(20),l=n(33),u=n(31),d=n(34),b=n(23),p=n(158),f=n(63),g=n(174),h=n(114),m=n(175),v=n(163),y=n(162),k=n(25),O=n(87),j=n(103),E=n(166),w=n(178),x=n(131),S=n(183),C=n.n(S),T=n(190),D=n.n(T),A=n(191),L=n.n(A),M=n(112);function G(){var e=Object(b.a)(["\n  display: inline-block;\n  background: black;\n  border-right: 1px solid #fff;\n  min-height: 24px;\n  vertical-align: bottom;\n"]);return G=function(){return e},e}function B(){var e=Object(b.a)(["\n  width: 400px;\n  background: #eee;\n"]);return B=function(){return e},e}var H=k.b.div(B()),N=k.b.div(G()),P=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sdgs,n=e.showTooltip,o=e.hideTooltip,a=t.map(function(e){var t=100/15*(Number(e.score)/100);return r.a.createElement(N,{key:e.number,className:"sdg bg sdg".concat(e.number),"data-label":e.getLabel(),"data-score":"".concat(e.score,"%"),style:{width:"calc(".concat(t,"% - 1px")},onMouseOver:n,onMouseOut:o})});return r.a.createElement(H,null,a)}}]),t}(o.PureComponent);function R(){var e=Object(b.a)(["\n  && {\n    border-top: 1px solid rgba(0,0,0,0.12);\n    top: 0px;\n    left: 0px;\n    z-index: 100;\n    position: sticky;\n    background-color: #fff;\n    padding: 0;\n\n    &:after{\n      content:'';\n      position:absolute;\n      left: 0;\n      bottom: 0;\n      width:100%;\n      border-bottom: 2px solid rgba(0,0,0,0.12);\n    }\n  }\n\n  button {\n    width: 100%;\n    padding: 20px 16px 20px 16px;\n    justify-content: left;\n    font-weight: bold;\n    line-height: 24px;\n\n    &:hover {\n      background: #eee;\n    }\n  }\n"]);return R=function(){return e},e}function z(){var e=Object(b.a)(["\n  && {\n    overflow-x: auto;\n  }\n\n  .MuiTableCell-head {\n    color: black;\n    font-size: 1rem;\n    border-top: 1px solid rgba(0,0,0,0.12);\n\n    &:after{\n      content:'';\n      position:absolute;\n      left: 0;\n      bottom: 0;\n      width:100%;\n      border-bottom: 2px solid rgba(0,0,0,0.12);\n    }\n  }\n\n  .MuiTableCell-body {\n    color: #6c757d;\n    font-size: 1rem;\n  }\n"]);return z=function(){return e},e}var F=Object(k.b)(C.a)(z()),W=k.b.th(R()),I=function(e,t){var n=e.index,o=e.sort,a=e.sortDirection,i=e.label,c=function(){switch(a){case"asc":return r.a.createElement(D.a,null);case"desc":return r.a.createElement(L.a,null);default:return r.a.createElement(M.a,{children:r.a.createElement("div",null)})}}();return r.a.createElement(W,{key:n},r.a.createElement(h.a,{disabled:!o,onClick:function(){return t(n)}},r.a.createElement(y.a,{variant:"body1",style:{fontWeight:500}},i),c))},q={download:!1,viewColumns:!1,print:!1,filter:!1,responsive:"none",selectableRows:"none",elevation:0,rowsPerPage:500,search:!1,sort:!0,customFooter:function(e,t,n,o,a){return r.a.createElement("tbody",null)}},J=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showTooltip,n=e.hideTooltip,o=[{name:"City",options:{sort:!0,sortDirection:null,customHeadRender:I,customBodyRender:function(e,t,n){return r.a.createElement("span",{style:{fontWeight:"500",color:"black"}},e)}}},{name:"Region",options:{sort:!0,sortDirection:null,customHeadRender:I}},{name:"SDGs",options:{sort:!1,customBodyRender:function(e,o,a){return r.a.createElement(P,{sdgs:e,showTooltip:t,hideTooltip:n})},customHeadRender:I}},{name:"Rank",options:{sort:!0,sortDirection:"asc",customHeadRender:I}},{name:"Score",options:{sort:!1,customHeadRender:I}}],a=this.props.cities,i=a&&a.map(function(e){return[e.name,e.region,e.sdgs,e.rank,e.score]});return r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"The European Cities SDG Index"),r.a.createElement(y.a,{variant:"body1",style:{color:"#6c757d"},gutterBottom:!0},"Select a city to see its full profile."),r.a.createElement(F,{data:i,columns:o,options:q}))}}]),t}(o.PureComponent),Q=n(193),V=n(179);function Z(){var e=Object(b.a)(["\n  && {\n    left: 0;\n    position: default;\n    transform: none;\n    width: 100%;\n  }\n"]);return Z=function(){return e},e}var $=k.b.img(Z()),_=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sdg,n=e.clickHandler,o=Object(Q.a)(e,["sdg","clickHandler"]);return r.a.createElement(V.a,Object.assign({cols:1},o),r.a.createElement(h.a,{onClick:n,"data-focus":t},r.a.createElement($,{src:"/images/sdg".concat(t,".png"),alt:"SDG ".concat(t," icon"),className:"bg sdg".concat(t)})))}}]),t}(o.PureComponent);function K(){var e=Object(b.a)(['\n  font-size: .8rem;\n  padding: 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  transition: all .2s;\n\n  &:after {\n    box-sizing: border-box;\n    display: inline;\n    font-size: 10px;\n    width: 100%;\n    line-height: 1;\n    content: "\u25bc";\n    color: rgba(0, 0, 0, 0.8);\n    position: absolute;\n    text-align: center;\n    left: 0;\n    bottom: -7px;\n  }\n\n  &.hidden {\n    visibility: hidden;\n  }\n']);return K=function(){return e},e}var U=Object(k.b)(E.a)(K()),X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showTooltip=function(e){var t=e.currentTarget;n.setState(function(e){return{tooltipShow:!0,tooltipAnchor:t,tooltipScore:t.getAttribute("data-score"),tooltipLabel:t.getAttribute("data-label")}})},n.hideTooltip=function(e){n.setState(function(e){return{tooltipShow:!1}})},n.state={tooltipShow:!1,tooltipAnchor:null,tooltipScore:null,tooltipLabel:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.focus,n=e.resetMapFocus,o=e.setMapFocus,a=e.cities,i=this.state,c=i.tooltipShow,s=i.tooltipAnchor,l=i.tooltipLabel,u=i.tooltipScore,d=Object(O.a)(Array(13).keys()).map(function(e){return r.a.createElement(_,{clickHandler:o,key:e+1,sdg:e+1})}),b=Object(O.a)(Array(2).keys()).map(function(e){return r.a.createElement(_,{clickHandler:o,key:e+15,sdg:e+15})}),p=r.a.createElement(_,{clickHandler:n,key:18,sdg:"18"}),f=d.concat(b,p),g=r.a.createElement("span",null,"\xa0",r.a.createElement("span",{onClick:n,style:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"}},"or display the overall scores"));return r.a.createElement(j.a,{style:{padding:24,position:"relative"}},r.a.createElement(x.a,{marginBottom:5},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Sustainable Development Goals"),r.a.createElement(y.a,{variant:"body1",style:{color:"#6c757d"},gutterBottom:!0},"Select one of the 15 SDGs to see it on the map",t?g:null,"."),r.a.createElement(w.a,{cols:8,spacing:8,cellHeight:"auto"},f)),r.a.createElement(J,{cities:a,showTooltip:this.showTooltip,hideTooltip:this.hideTooltip}),r.a.createElement(U,{className:c?"show":"hidden",open:Boolean(s),keepMounted:!0,anchorEl:s,placement:"top",modifiers:{flip:{enabled:!1},offset:{enabled:!0,offset:"0, 7px"}}},r.a.createElement(y.a,{variant:"body2",paragraph:!1},r.a.createElement("span",{style:{fontWeight:500}},l),": ",u)))}}]),t}(o.PureComponent),Y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h2",gutterBottom:!0},"Country"))}}]),t}(o.Component),ee=n(157);function te(){var e=Object(b.a)(["\n  #cities circle {\n    transition: all .3s;\n\n    &:hover {\n      stroke-width: 12;\n    }\n  }\n"]);return te=function(){return e},e}var ne=Object(k.b)(ee.SvgLoader)(te()),oe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getCityScore",value:function(e,t){if(null===t)return e.score.toString();var n=e.getSDG(t);return n&&n.score.toString()}},{key:"getCityColor",value:function(e,t){if(null===t)return"black";switch(e.getSDG(t).status){case"green":return"#006c00";case"yellow":return"#ffea00";case"orange":return"#ff7500";case"red":return"#c90000";case"gray":return"#5a5a5a";default:return"black"}}},{key:"getScoreLabel",value:function(e,t){if(null===t)return"Overall Score";var n=e.getSDG(t);return n&&n.getLabel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.focus,o=t.cities,a=t.showTooltip,i=t.hideTooltip,c=o&&o.map(function(t){return r.a.createElement(ee.SvgProxy,{key:t.name.toLowerCase(),selector:"#".concat(t.slug()),"data-score":e.getCityScore(t,n),"data-label":e.getScoreLabel(t,n),"data-city":t.name,onMouseOver:a,onMouseOut:i,fill:e.getCityColor(t,n),r:"20"})});return r.a.createElement(ne,{path:"/images/europe.svg",style:{width:"100%",height:"auto"}},c)}}]),t}(o.PureComponent);function re(){var e=Object(b.a)(['\n  font-size: .8rem;\n  border-radius: 5px;\n  padding: 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n\n  &:after {\n    box-sizing: border-box;\n    display: inline;\n    font-size: 10px;\n    width: 100%;\n    line-height: 1;\n    content: "\u25bc";\n    color: rgba(0, 0, 0, 0.8);\n    position: absolute;\n    text-align: center;\n    left: 0;\n    bottom: -7px;\n  }\n']);return re=function(){return e},e}var ae=Object(k.b)(E.a)(re()),ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showTooltip=function(e){var t=e.currentTarget;n.setState(function(e){return{tooltipShow:!0,tooltipAnchor:t,tooltipScore:t.getAttribute("data-score"),tooltipCity:t.getAttribute("data-city"),tooltipLabel:t.getAttribute("data-label")}})},n.hideTooltip=function(e){n.setState(function(e){return{tooltipShow:!1}})},n.state={tooltipShow:!1,tooltipAnchor:null,tooltipScore:null,tooltipLabel:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.focus,n=e.cities,o=this.state,a=o.tooltipShow,i=o.tooltipAnchor,c=o.tooltipCity,s=o.tooltipLabel,l=o.tooltipScore;return r.a.createElement(m.a,{style:{position:"sticky",top:0}},r.a.createElement(oe,{cities:n,focus:t,showTooltip:this.showTooltip,hideTooltip:this.hideTooltip}),r.a.createElement(ae,{open:a,anchorEl:i,placement:"top",transition:!0,modifiers:{flip:{enabled:!1},offset:{enabled:!0,offset:"0, 10px"}}},r.a.createElement(y.a,{variant:"body2",style:{fontWeight:500}},c),r.a.createElement(y.a,{variant:"body2"},r.a.createElement("span",null,s,":\xa0"),r.a.createElement("span",{style:{fontWeight:500}},l))))}}]),t}(o.PureComponent),ce=function(){function e(t){var n=t.name,o=t.score,r=t.rank,a=t.sdgs,i=t.region;Object(c.a)(this,e),this.name=n,this.region=i,this.score=o,this.rank=r,this.sdgs=a}return Object(s.a)(e,[{key:"getSDG",value:function(e){return this.sdgs[Number(e)-1]}},{key:"slug",value:function(){return this.name.toLowerCase().replace(/ /g,"")}}]),e}(),se=["No poverty","Zero hunger","Good health and well-being","Quality education","Gender equality","Clean water and sanitation","Affordable and clean energy","Decent work and economic growth","Industry, innovation and infrastructure","Reduced inequalities","Sustainable cities and communities","Responsible consumption and production","Climate action","Life below water","Life on land","Peace, justice and strong institutions","Partnerships for the goals"],le=function(){function e(t){var n=t.number,o=t.score,r=t.status;Object(c.a)(this,e),this.number=n,this.score=o,this.status=r}return Object(s.a)(e,[{key:"getLabel",value:function(){return se[this.number-1]}}]),e}(),ue=function(e){fetch("/data/cities.json").then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(t){var n=t.map(function(e){return function(e){var t=Object(O.a)(Array(17).keys()).map(function(e){return++e}).map(function(t){return new le({number:Number(t),score:Number(e["SDG".concat(t)]),status:e["Dashboard SDG".concat(t)]})});return new ce({name:e.city,region:e.region,rank:Number(e.rank),score:Number(e.score),sdgs:t})}(e)});e(n)})};function de(){var e=Object(b.a)(["\n  && {\n    text-align: left;\n    padding: 16px;\n    display: flex;\n    align-self: stretch;\n    flex-direction: column;\n    align-items: start;\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(b.a)(["\n  body {\n    background: #f8f9fa;\n    margin: 0;\n    padding: 0;\n  }\n\n  .bg {\n    &.sdg1 {\n      background: rgb(204,44,67);\n    }\n    &.sdg2 {\n      background: rgb(211, 162 ,70 );\n    }\n    &.sdg3 {\n      background: rgb(81, 148 ,71 );\n    }\n    &.sdg4 {\n      background: rgb(175, 39, 56 );\n    }\n    &.sdg5 {\n      background: rgb(211 ,69 ,58 );\n    }\n    &.sdg6 {\n      background: rgb(73, 181 ,203 ) ;\n    }\n    &.sdg7 {\n      background: rgb(238, 189, 64 ) ;\n    }\n    &.sdg8 {\n      background: rgb(141, 36, 65 );\n    }\n    &.sdg9 {\n      background: rgb(219, 104, 62 ) ;\n    }\n    &.sdg10 {\n      background: rgb(197 ,36 ,96 );\n    }\n    &.sdg11 {\n      background: rgb(232, 151, 68 ) ;\n    }\n    &.sdg12 {\n      background: rgb(177 ,134, 58 ) ;\n    }\n    &.sdg13 {\n      background: rgb(65, 119 ,68 );\n    }\n    &.sdg15 {\n      background: rgb(100 ,167, 74 ) ;\n    }\n    &.sdg16 {\n      background: rgb(31, 101 ,137 ) ;\n    }\n  }\n"]);return be=function(){return e},e}function pe(){var e=Object(b.a)(["\n  && {\n    box-shadow: 0 1px 12px -3px rgba(0,0,0,.1);\n    background: white;\n  }\n\n  h6 {\n    font-weight: 400;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return pe=function(){return e},e}var fe=Object(k.b)(g.a)(pe()),ge=Object(k.a)(be()),he=Object(k.b)(h.a)(de()),me=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).setMapFocus=function(e){var t=e.currentTarget.getAttribute("data-focus");n.setState({focus:t})},n.resetMapFocus=function(e){n.setState({focus:null})},n.state={cities:[],focus:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ue(function(t){e.setState({cities:t})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.focus,o=t.cities;return r.a.createElement(p.a,{basename:"/"},r.a.createElement(fe,{position:"static",color:"default"},r.a.createElement(m.a,{style:{padding:0}},r.a.createElement(v.a,null,r.a.createElement(he,{component:p.b,to:"/"},r.a.createElement(y.a,{variant:"h6",color:"inherit"},"European Cities SDG Index 2019"),r.a.createElement(y.a,{variant:"body1",style:{color:"#6c757d"},gutterBottom:!0},"Prototype Version")),r.a.createElement(he,{style:{flexGrow:1},disabled:!0}),r.a.createElement(he,{component:"a",href:"http://unsdsn.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"/images/SDSN-logo.png",alt:"SDSN logo",style:{maxHeight:60}}))))),r.a.createElement(ie,{focus:n,cities:o}),r.a.createElement(m.a,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(X,Object.assign({},t,{focus:n,setMapFocus:e.setMapFocus,resetMapFocus:e.resetMapFocus,cities:o}))}}),r.a.createElement(f.a,{path:"/:country",component:Y})),r.a.createElement(ge,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[197,1,2]]]);
//# sourceMappingURL=main.8a8d8400.chunk.js.map